{"version":3,"sources":["firebase.js","providers/UserProvider.jsx","components/Post.jsx","components/withUser.jsx","components/AddPost.jsx","utilities.js","providers/PostsProvider.jsx","components/Posts.jsx","components/CurrentUser.jsx","components/SignIn.jsx","components/SignUp.jsx","components/SignInAndSignUp.jsx","components/Authentication.jsx","components/UpdatedNotification.jsx","components/UserProfile.jsx","components/Comment.jsx","components/AddComment.jsx","components/Comments.jsx","components/PostPage.jsx","components/Application.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","signOut","storage","createUserProfileDocument","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","user","additionalData","userRef","displayName","email","photoURL","createdAt","wrap","_context","prev","next","abrupt","doc","concat","uid","get","sent","exists","Date","set","objectSpread","t0","console","error","getUserDocument","stop","_x","_x2","apply","this","arguments","collection","err","window","UserContext","createContext","UserProvider","state","unsubscribeFromAuth","unsubscribeFromUserCollection","componentDidMount","_this","onAuthStateChanged","userAuth","userCollectionRef","onSnapshot","snapshot","setState","id","data","componentWillUnmount","children","props","react_default","createElement","Provider","value","Component","Post","title","content","stars","comments","currentUser","useContext","postRef","className","Link","to","role","aria-label","moment","toDate","calendar","onClick","update","postAuthor","belongsToCurrentUser","delete","defaultProps","withUser","WrappedComponent","Consumer","assign","name","getDisplayName","handleChange","event","_event$target","target","defineProperty","handleSubmit","_this$state","_this$props$user","onCreate","post","preventDefault","add","favorites","_this$state2","log","onSubmit","type","placeholder","onChange","collectIdsAndDocs","PostsContext","PostsProvider","posts","unsubscribeFromFirestore","docs","map","Posts","components_AddPost","components_Post","key","CurrentUser","src","alt","SignIn","password","SignUp","_yield$auth$createUse","createUserWithEmailAndPassword","alert","SignInAndSignUp","components_SignIn","components_SignUp","Authentication","components_CurrentUser","components_SignInAndSignUp","UpdateNotification","elRef","useRef","current","div","document","style","background","useEffect","updateNotificationRoot","getElementById","appendChild","removeChild","createPortal","UserProfile","updated","imageInput","handleChnage","then","setTimeout","file","ref","child","put","response","getDownloadURL","_this2","UpdatedNotification","accept","files","Comment","AddComment","Comments","components_AddComment","comment","components_Comment","unsubscribeFromPosts","unsubscribeFromComments","comementsRef","createComment","components_Comments","match","params","postId","React","Application","components_Authentication","Switch","Route","exact","path","component","PostPage","render","BrowserRouter","providers_PostsProvider","providers_UserProvider","components_Application"],"mappings":"kSAgBAA,IAASC,cAXc,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,YAAa,2CACbC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIV,IAAMC,EAAYV,IAASU,YACrBC,EAAOX,IAASW,OAChBC,EAAW,IAAIZ,IAASW,KAAKE,mBAC7BC,EAAmB,kBAAMH,EAAKI,gBAAgBH,IAC9CI,EAAU,kBAAML,EAAKK,WACrBC,EAAUjB,IAASiB,UAEnBC,EAAyB,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,EAAMC,GAAb,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAV,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAClCV,EADkC,CAAAQ,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBAGjCT,EAAUlB,EAAU4B,IAAV,SAAAC,OAAuBb,EAAKc,MAHLN,EAAAE,KAAA,EAIhBR,EAAQa,MAJQ,UAAAP,EAAAQ,KAKzBC,OALyB,CAAAT,EAAAE,KAAA,gBAM7BP,EAAiCH,EAAjCG,YAAaC,EAAoBJ,EAApBI,MAAOC,EAAaL,EAAbK,SACtBC,EAAY,IAAIY,KAPeV,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAS7BR,EAAQiB,IAARzB,OAAA0B,EAAA,EAAA1B,CAAA,CACJS,cACAC,QACAC,WACAC,aACGL,IAd8B,QAAAO,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAiBnCc,QAAQC,MAARf,EAAAa,IAjBmC,eAAAb,EAAAG,OAAA,SAqBhCa,EAAgBxB,EAAKc,MArBW,yBAAAN,EAAAiB,SAAA1B,EAAA,kBAAH,gBAAA2B,EAAAC,GAAA,OAAAlC,EAAAmC,MAAAC,KAAAC,YAAA,GAwBzBN,EAAkB,SAACV,GAC9B,IAAKA,EAAK,OAAO,KACjB,IACE,OAAO9B,EAAU+C,WAAW,SAASnB,IAAIE,GACzC,MAAOkB,GACPV,QAAQC,MAAM,yBAA0BS,KAI5CC,OAAO3D,SAAWA,IAEHA,EAAf,EAAeA,qBCvDF4D,EAAcC,0BAgCZC,6MA7BbC,MAAQ,CAAErC,KAAM,QAChBsC,oBAAsB,OACtBC,8BAAgC,OAChCC,kBAAoB,WAClBC,EAAKH,oBAAsBrD,EAAKyD,mBAAL,eAAAjD,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAwB,SAAAC,EAAO4C,GAAP,IAAAC,EAAA,OAAAhD,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACjBlB,EAA0BmD,GADT,QAC3CC,EAD2CpC,EAAAQ,MAG/CyB,EAAKF,8BAAgCK,EAAkBC,WACrD,SAACC,GACCL,EAAKM,SAAS,CAAE/C,KAAKN,OAAA0B,EAAA,EAAA1B,CAAA,CAAGoB,IAAKgC,EAASE,IAAOF,EAASG,YAI1DR,EAAKM,SAAS,CAAE/C,KAAM,OATyB,wBAAAQ,EAAAiB,SAAA1B,MAAxB,gBAAA2B,GAAA,OAAAjC,EAAAmC,MAAAC,KAAAC,YAAA,OAc7BoB,qBAAuB,WACrBT,EAAKH,+FAGE,IACCa,EAAatB,KAAKuB,MAAlBD,SACAnD,EAAS6B,KAAKQ,MAAdrC,KACR,OAAOqD,EAAAxD,EAAAyD,cAACpB,EAAYqB,SAAb,CAAsBC,MAAOxD,GAAOmD,UA1BpBM,qBCKrBC,EAAO,SAAAjE,GAA8D,IAA3DuD,EAA2DvD,EAA3DuD,GAAIW,EAAuDlE,EAAvDkE,MAAOC,EAAgDnE,EAAhDmE,QAAS5D,EAAuCP,EAAvCO,KAAMM,EAAiCb,EAAjCa,UAAWuD,EAAsBpE,EAAtBoE,MAAOC,EAAerE,EAAfqE,SACpDC,EAAcC,qBAAW9B,GAEzB+B,EAAUjF,EAAU4B,IAAV,SAAAC,OAAuBmC,IAOvC,OACEK,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,QACjBb,EAAAxD,EAAAyD,cAAA,OAAKY,UAAU,iBACbb,EAAAxD,EAAAyD,cAACa,EAAA,EAAD,CAAMC,GAAE,SAAAvD,OAAWmC,IACjBK,EAAAxD,EAAAyD,cAAA,UAAKK,IAEPN,EAAAxD,EAAAyD,cAAA,WAAMM,IAERP,EAAAxD,EAAAyD,cAAA,OAAKY,UAAU,cACbb,EAAAxD,EAAAyD,cAAA,WACED,EAAAxD,EAAAyD,cAAA,SACED,EAAAxD,EAAAyD,cAAA,QAAMe,KAAK,MAAMC,aAAW,QAA5B,gBAGCT,GAEHR,EAAAxD,EAAAyD,cAAA,SACED,EAAAxD,EAAAyD,cAAA,QAAMe,KAAK,MAAMC,aAAW,YAA5B,gBAGCR,GAEHT,EAAAxD,EAAAyD,cAAA,sBAActD,EAAKG,aACnBkD,EAAAxD,EAAAyD,cAAA,SAAIiB,IAAOjE,EAAUkE,UAAUC,aAEjCpB,EAAAxD,EAAAyD,cAAA,WACED,EAAAxD,EAAAyD,cAAA,UAAQY,UAAU,OAAOQ,QA7BpB,WACXT,EAAQU,OAAO,CAAEd,MAAOA,EAAQ,MA4B1B,QAzCmB,SAACE,EAAaa,GACzC,QAAKb,GACEA,EAAYjD,MAAQ8D,EAAW9D,IA0C7B+D,CAAqBd,EAAa/D,GACjCqD,EAAAxD,EAAAyD,cAAA,UAAQY,UAAU,SAASQ,QAAS,WAnC5CT,EAAQa,WAmCA,UAGE,SAOdpB,EAAKqB,aAAe,CAClBpB,MAAO,yBACPC,QACE,0NACF5D,KAAM,CACJgD,GAAI,MACJ7C,YAAa,cACbC,MAAO,4BACPC,SAAU,sCAEZC,UAAW,IAAIY,KACf2C,MAAO,EACPC,SAAU,GAGGJ,gBCrDAsB,EAhBE,SAACvB,GAChB,IAAMwB,EAAmB,SAAC7B,GACxB,OACEC,EAAAxD,EAAAyD,cAACpB,EAAYgD,SAAb,KACG,SAAClF,GAAD,OAAUqD,EAAAxD,EAAAyD,cAACG,EAAD/D,OAAAyF,OAAA,CAAWnF,KAAMA,GAAUoD,OAS5C,OAJA6B,EAAiB9E,YAAjB,YAAAU,OAbqB,SAACoE,GACtB,OAAOA,EAAiB9E,aAAe8E,EAAiBG,MAAQ,cAYrBC,CACzCJ,GADF,KAIOA,GC6CMD,+MA5Db3C,MAAQ,CAAEsB,MAAO,GAAIC,QAAS,MAE9B0B,aAAe,SAACC,GAAU,IAAAC,EACAD,EAAME,OAAtBL,EADgBI,EAChBJ,KAAM5B,EADUgC,EACVhC,MACdf,EAAKM,SAALrD,OAAAgG,EAAA,EAAAhG,CAAA,GAAiB0F,EAAO5B,OAG1BmC,mDAAe,SAAA5F,EAAOwF,GAAP,IAAAK,EAAAjC,EAAAC,EAAAiC,EAAA/E,EAAAX,EAAAC,EAAAC,EAAAyF,EAAAC,EAAA,OAAAnG,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACb6E,EAAMS,iBADOJ,EAGcnD,EAAKJ,MAAxBsB,EAHKiC,EAGLjC,MAAOC,EAHFgC,EAGEhC,QAHFiC,EAIiCpD,EAAKW,MAAMpD,KAAjDc,EAJK+E,EAIL/E,IAAKX,EAJA0F,EAIA1F,YAAaC,EAJbyF,EAIazF,MAAOC,EAJpBwF,EAIoBxF,SAC3ByF,EAAW,SAACC,GAChB/G,EAAU+C,WAAW,SAASkE,IAAIF,IAG9BA,EAAO,CACXpC,QACAC,UACA5D,KAAM,CACJc,MACAX,cACAC,QACAC,YAEF6F,UAAW,EACXpC,SAAU,EACVxD,UAAW,IAAIY,MAGjB4E,EAASC,GAETtD,EAAKM,SAAS,CAAEY,MAAO,GAAIC,QAAS,KAzBvB,wBAAApD,EAAAiB,SAAA1B,oIA4BN,IAAAoG,EACoBtE,KAAKQ,MAAxBsB,EADDwC,EACCxC,MAAOC,EADRuC,EACQvC,QAEf,OADAtC,QAAQ8E,IAAIvE,KAAKuB,OAEfC,EAAAxD,EAAAyD,cAAA,QAAM+C,SAAUxE,KAAK8D,aAAczB,UAAU,WAC3Cb,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACLlB,KAAK,QACLmB,YAAY,QACZ/C,MAAOG,EACP6C,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACLlB,KAAK,UACLmB,YAAY,OACZ/C,MAAOI,EACP4C,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SAAOY,UAAU,SAASoC,KAAK,SAAS9C,MAAM,wBAvDhCC,cCJTgD,EAAoB,SAAC7F,GAChC,OAAOlB,OAAA0B,EAAA,EAAA1B,CAAA,CAAEsD,GAAIpC,EAAIoC,IAAOpC,EAAIqC,SCGjByD,EAAevE,0BA4BbwE,6MAzBbtE,MAAQ,CAAEuE,MAAO,MAEjBC,yBAA2B,OAC3BvE,oBAAsB,OACtBE,kBAAoB,WAClBC,EAAKoE,yBAA2B7H,EAC7B+C,WAAW,SACXc,WAAW,SAACC,GACX,IAAM8D,EAAQ9D,EAASgE,KAAKC,IAAI,SAACnG,GAAD,OAAS6F,EAAkB7F,KAC3D6B,EAAKM,SAAS,CAAE6D,eAItB1D,qBAAuB,WACrBT,EAAKoE,oGAEE,IACCD,EAAU/E,KAAKQ,MAAfuE,MACAzD,EAAatB,KAAKuB,MAAlBD,SACR,OACEE,EAAAxD,EAAAyD,cAACoD,EAAanD,SAAd,CAAuBC,MAAOoD,GAAQzD,UArBhBM,aCWbuD,EAZD,WACZ,IAAMJ,EAAQ5C,qBAAW0C,GACzB,OACErD,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,SACjBb,EAAAxD,EAAAyD,cAAC2D,EAAD,MACCL,EAAMG,IAAI,SAAChB,GAAD,OACT1C,EAAAxD,EAAAyD,cAAC4D,EAADxH,OAAAyF,OAAA,GAAUY,EAAV,CAAgBoB,IAAKpB,EAAK/C,UCN5BoE,EAAc,SAAA3H,GAA2D,IAAxDU,EAAwDV,EAAxDU,YAAaE,EAA2CZ,EAA3CY,SAAUD,EAAiCX,EAAjCW,MAAOE,EAA0Bb,EAA1Ba,UAAW6C,EAAe1D,EAAf0D,SAC9D,OACEE,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,eACjBb,EAAAxD,EAAAyD,cAAA,OAAKN,GAAG,wBACRK,EAAAxD,EAAAyD,cAAA,OAAKY,UAAU,wBACZ7D,GAAYgD,EAAAxD,EAAAyD,cAAA,OAAK+D,IAAKhH,EAAUiH,IAAKnH,IACtCkD,EAAAxD,EAAAyD,cAAA,OAAKY,UAAU,4BACbb,EAAAxD,EAAAyD,cAACa,EAAA,EAAD,CAAMC,GAAG,YACPf,EAAAxD,EAAAyD,cAAA,UAAKnD,IAEPkD,EAAAxD,EAAAyD,cAAA,KAAGY,UAAU,SAAS9D,GACtBiD,EAAAxD,EAAAyD,cAAA,KAAGY,UAAU,cAAcK,IAAOjE,EAAUkE,UAAUC,cAG1DpB,EAAAxD,EAAAyD,cAAA,WACED,EAAAxD,EAAAyD,cAAA,WAAMH,GACNE,EAAAxD,EAAAyD,cAAA,UAAQoB,QAASpF,GAAjB,eAMR8H,EAAYrC,aAAe,CACzB5E,YAAa,cACbC,MAAO,4BACPC,SAAU,qCACVC,UAAW,IAAIY,MAGFkG,QCWAG,6MAzCblF,MAAQ,CAAEjC,MAAO,GAAIoH,SAAU,MAE/BlC,aAAe,SAACC,GAAU,IAAAC,EACAD,EAAME,OAAtBL,EADgBI,EAChBJ,KAAM5B,EADUgC,EACVhC,MAEdf,EAAKM,SAALrD,OAAAgG,EAAA,EAAAhG,CAAA,GAAiB0F,EAAO5B,OAG1BmC,aAAe,SAACJ,GACdA,EAAMS,iBAENvD,EAAKM,SAAS,CAAE3C,MAAO,GAAIoH,SAAU,8EAG9B,IAAA5B,EACqB/D,KAAKQ,MAAzBjC,EADDwF,EACCxF,MAAOoH,EADR5B,EACQ4B,SAEf,OACEnE,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,SAASmC,SAAUxE,KAAK8D,cACtCtC,EAAAxD,EAAAyD,cAAA,qBACAD,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,QACLlB,KAAK,QACLmB,YAAY,QACZ/C,MAAOpD,EACPoG,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,WACLlB,KAAK,WACLmB,YAAY,WACZ/C,MAAOgE,EACPhB,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SAAOgD,KAAK,SAAS9C,MAAM,YAC3BH,EAAAxD,EAAAyD,cAAA,UAAQoB,QAAStF,GAAjB,+BApCaqE,aC6DNgE,6MA5DbpF,MAAQ,CAAElC,YAAa,GAAIC,MAAO,GAAIoH,SAAU,MAEhDlC,aAAe,SAACC,GAAU,IAAAC,EACAD,EAAME,OAAtBL,EADgBI,EAChBJ,KAAM5B,EADUgC,EACVhC,MAEdf,EAAKM,SAALrD,OAAAgG,EAAA,EAAAhG,CAAA,GAAiB0F,EAAO5B,OAG1BmC,mDAAe,SAAA5F,EAAOwF,GAAP,IAAAK,EAAAxF,EAAAoH,EAAArH,EAAAuH,EAAA1H,EAAA,OAAAJ,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACb6E,EAAMS,iBADOJ,EAG4BnD,EAAKJ,MAAtCjC,EAHKwF,EAGLxF,MAAOoH,EAHF5B,EAGE4B,SAAUrH,EAHZyF,EAGYzF,YAHZK,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMYzB,EAAK0I,+BAC1BvH,EACAoH,GARS,OAAAE,EAAAlH,EAAAQ,KAMHhB,EANG0H,EAMH1H,KAIRR,EAA0BQ,EAAM,CAAEG,gBAVvBK,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAaXoH,MAAKpH,EAAAa,IAbM,QAgBboB,EAAKM,SAAS,CAAE5C,YAAa,GAAIC,MAAO,GAAIoH,SAAU,KAhBzC,yBAAAhH,EAAAiB,SAAA1B,EAAA,gJAmBN,IAAAoG,EACkCtE,KAAKQ,MAAtClC,EADDgG,EACChG,YAAaC,EADd+F,EACc/F,MAAOoH,EADrBrB,EACqBqB,SAE5B,OACEnE,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,SAASmC,SAAUxE,KAAK8D,cACtCtC,EAAAxD,EAAAyD,cAAA,qBACAD,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACLlB,KAAK,cACLmB,YAAY,eACZ/C,MAAOrD,EACPqG,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,QACLlB,KAAK,QACLmB,YAAY,QACZ/C,MAAOpD,EACPoG,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,WACLlB,KAAK,WACLmB,YAAY,WACZ/C,MAAOgE,EACPhB,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SAAOgD,KAAK,SAAS9C,MAAM,oBAvDdC,aCSNoE,EAPS,kBACtBxE,EAAAxD,EAAAyD,cAAA,WACED,EAAAxD,EAAAyD,cAACwE,EAAD,MACAzE,EAAAxD,EAAAyD,cAACyE,EAAD,QCEWC,EALQ,WACrB,IAAMhI,EAAOgE,qBAAW9B,GACxB,OAAOmB,EAAAxD,EAAAyD,cAAA,WAAMtD,EAAOqD,EAAAxD,EAAAyD,cAAC2E,EAAgBjI,GAAWqD,EAAAxD,EAAAyD,cAAC4E,EAAD,wBCenCC,EAnBY,SAAA1I,GAAkB,IAAf0D,EAAe1D,EAAf0D,SACtBiF,EAAQC,iBAAO,MACrB,IAAKD,EAAME,QAAS,CAClB,IAAMC,EAAMC,SAASlF,cAAc,OACnCiF,EAAIE,MAAMC,WAAa,QACvBN,EAAME,QAAUC,EAWlB,OARAI,oBAAU,WACR,IAAMC,EAAyBJ,SAASK,eACtC,uBAGF,OADAD,EAAuBE,YAAYV,EAAME,SAClC,kBAAMM,EAAuBG,YAAYX,EAAME,WACrD,IAEIU,uBAAa3F,EAAAxD,EAAAyD,cAAA,WAAMH,GAAiBiF,EAAME,UCiEpCW,6MA/Eb5G,MAAQ,CAAElC,YAAa,GAAI+I,SAAS,KACpCC,WAAa,OAcbC,aAAe,SAAC7D,GAAU,IAAAC,EACAD,EAAME,OAAtBL,EADgBI,EAChBJ,KAAM5B,EADUgC,EACVhC,MACdf,EAAKM,SAALrD,OAAAgG,EAAA,EAAAhG,CAAA,GAAiB0F,EAAO5B,OAG1BmC,aAAe,SAACJ,GACdA,EAAMS,iBADkB,IAEhB7F,EAAgBsC,EAAKJ,MAArBlC,YAEJA,GACwBsC,EAAKvC,QAAQyE,OAAO,CAAExE,gBAC9BkJ,KAAK,WACrB5G,EAAKM,SACH,WACE,MAAO,CAAEmG,SAAS,IAEpB,kBAAMI,WAAW,kBAAM7G,EAAKM,SAAS,CAAEmG,SAAS,KAAU,SAK5DzG,EAAK8G,OACPjI,QAAQ8E,IAAI,yBAA0B3D,EAAK8G,MAC3ChK,EACGiK,MACAC,MAAM,iBACNA,MAAMhH,EAAK3B,KACX2I,MAAMhH,EAAK8G,KAAKnE,MAChBsE,IAAIjH,EAAK8G,MACTF,KAAK,SAACM,GAEL,OADArI,QAAQ8E,IAAI,aACLuD,EAASH,IAAII,mBAErBP,KAAK,SAAChJ,GAAD,OAAcoC,EAAKvC,QAAQyE,OAAO,CAAEtE,yFAIvC,IAAAwJ,EAAAhI,KAAA+D,EAC0B/D,KAAKQ,MAA9BlC,EADDyF,EACCzF,YAAa+I,EADdtD,EACcsD,QAErB,OADA5H,QAAQ8E,IAAI,UAAW8C,GAErB7F,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,eAChBgF,EAAU7F,EAAAxD,EAAAyD,cAACwG,EAAD,iBAAoD,KAC/DzG,EAAAxD,EAAAyD,cAAA,QAAM+C,SAAUxE,KAAK8D,cACnBtC,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACL9C,MAAOrD,EACPiF,KAAK,cACLoB,SAAU3E,KAAKuH,aACf7C,YAAY,iBAGdlD,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACLkD,IAAK,SAACA,GAAD,OAAUK,EAAKV,WAAaK,GACjCO,OAAO,0BAET1G,EAAAxD,EAAAyD,cAAA,SAAOgD,KAAK,SAASpC,UAAU,yCApErC,OAAOjF,EAAK8E,YAAYjD,oCAIxB,OAAO9B,EAAU4B,IAAV,SAAAC,OAAuBgB,KAAKf,mCAInC,OAAOe,KAAKsH,YAActH,KAAKsH,WAAWa,MAAM,UAb1BvG,aCApBwG,EAAU,SAAAxK,GAAkC,IAA/BmE,EAA+BnE,EAA/BmE,QAAS5D,EAAsBP,EAAtBO,KAAMM,EAAgBb,EAAhBa,UAChC,OACE+C,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,WACjBb,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,mBAAmBlE,EAAKG,aACxCkD,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,oBAAoBN,GACpCP,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,sBAAsBK,IAAOjE,GAAWmE,cAK9DwF,EAAQlF,aAAe,CACrBpB,MAAO,yBACPC,QACE,0NACF5D,KAAM,CACJG,YAAa,cACbC,MAAO,4BACPC,SAAU,sCAEZC,UAAW,IAAIY,MAGF+I,QCOAC,6MA9Bb7H,MAAQ,CAAEuB,QAAS,MAEnB0B,aAAe,SAACC,GAAU,IAAAC,EACAD,EAAME,OAAtBL,EADgBI,EAChBJ,KAAM5B,EADUgC,EACVhC,MACdf,EAAKM,SAALrD,OAAAgG,EAAA,EAAAhG,CAAA,GAAiB0F,EAAO5B,OAG1BmC,aAAe,SAACJ,GACdA,EAAMS,iBACNvD,EAAKW,MAAM0C,SAASrD,EAAKJ,OACzBI,EAAKM,SAAS,CAAEa,QAAS,8EAGlB,IACCA,EAAY/B,KAAKQ,MAAjBuB,QACR,OACEP,EAAAxD,EAAAyD,cAAA,QAAM+C,SAAUxE,KAAK8D,aAAczB,UAAU,cAC3Cb,EAAAxD,EAAAyD,cAAA,SACEgD,KAAK,OACLlB,KAAK,UACLmB,YAAY,UACZ/C,MAAOI,EACP4C,SAAU3E,KAAKyD,eAEjBjC,EAAAxD,EAAAyD,cAAA,SAAOY,UAAU,SAASoC,KAAK,SAAS9C,MAAM,2BAzB7BC,aCWV0G,EATE,SAAA1K,GAA4B,IAAzBqE,EAAyBrE,EAAzBqE,SAAUgC,EAAerG,EAAfqG,SAC5B,OACEzC,EAAAxD,EAAAyD,cAAA,WAASY,UAAU,YACjBb,EAAAxD,EAAAyD,cAAC8G,EAAD,CAAYtE,SAAUA,IACrBhC,EAASiD,IAAI,SAAAsD,GAAO,OAAIhH,EAAAxD,EAAAyD,cAACgH,EAAD5K,OAAAyF,OAAA,GAAakF,EAAb,CAAsBlD,IAAKkD,EAAQrH,UC4DnDgC,+MAzDb3C,MAAQ,CAAE0D,KAAM,KAAMjC,SAAU,MAYhCyG,qBAAuB,OACvBC,wBAA0B,OAE1BhI,uCAAoB,SAAAzC,IAAA,OAAAH,EAAAC,EAAAU,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAClB+B,EAAK8H,qBAAuB9H,EAAKwB,QAAQpB,WAAW,SAACC,GACnD,IAAMiD,EAAOU,EAAkB3D,GAC/BxB,QAAQ8E,IAAItD,GACZL,EAAKM,SAAS,CAAEgD,WAGlBtD,EAAK+H,wBAA0B/H,EAAKgI,aAAa5H,WAAW,SAACC,GAC3D,IAAMgB,EAAWhB,EAASgE,KAAKC,IAAIN,GACnChE,EAAKM,SAAS,CAAEe,eATA,wBAAAtD,EAAAiB,SAAA1B,QAapBmD,qBAAuB,WACrBT,EAAK8H,uBACL9H,EAAK+H,6BAGPE,cAAgB,SAACL,GAAY,IACnBrK,EAASyC,EAAKW,MAAdpD,KACRyC,EAAKgI,aAAaxE,IAAlBvG,OAAA0B,EAAA,EAAA1B,CAAA,GACK2K,EADL,CAEErK,mFAIK,IAAA4F,EACoB/D,KAAKQ,MAAxB0D,EADDH,EACCG,KAAMjC,EADP8B,EACO9B,SAEd,OADAxC,QAAQ8E,IAAIvE,KAAKuB,OAEfC,EAAAxD,EAAAyD,cAAA,eACGyC,GAAQ1C,EAAAxD,EAAAyD,cAAC4D,EAASnB,GACnB1C,EAAAxD,EAAAyD,cAACqH,EAAD,CACE7G,SAAUA,EAEVgC,SAAUjE,KAAK6I,gDA/CrB,OAAO7I,KAAKuB,MAAMwH,MAAMC,OAAO7H,mCAG/B,OAAOhE,EAAU4B,IAAV,UAAAC,OAAwBgB,KAAKiJ,8CAGpC,OAAOjJ,KAAKoC,QAAQlC,WAAW,mBAVZgJ,IAAMtH,YCgBduH,oLAhBX,OACE3H,EAAAxD,EAAAyD,cAAA,QAAMY,UAAU,eACdb,EAAAxD,EAAAyD,cAACa,EAAA,EAAD,CAAMC,GAAG,KACPf,EAAAxD,EAAAyD,cAAA,0BAEFD,EAAAxD,EAAAyD,cAAC2H,EAAD,MACA5H,EAAAxD,EAAAyD,cAAC4H,EAAA,EAAD,KACE7H,EAAAxD,EAAAyD,cAAC6H,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWtE,IACjC3D,EAAAxD,EAAAyD,cAAC6H,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,WAAWC,UAAWrC,IACxC5F,EAAAxD,EAAAyD,cAAC6H,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAaC,UAAWC,aAX1B9H,sBCG1B+H,iBACEnI,EAAAxD,EAAAyD,cAACmI,GAAA,EAAD,KACEpI,EAAAxD,EAAAyD,cAACoI,EAAD,KACErI,EAAAxD,EAAAyD,cAACqI,EAAD,KACEtI,EAAAxD,EAAAyD,cAACsI,GAAD,SAINpD,SAASK,eAAe","file":"static/js/main.163a6a11.chunk.js","sourcesContent":["import firebase from \"@firebase/app\";\nimport \"@firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCPGFeo3lBMe4Pl33ZbW77sBRwCsEdiN58\",\n  authDomain: \"think-piece-shipu.firebaseapp.com\",\n  databaseURL: \"https://think-piece-shipu.firebaseio.com\",\n  projectId: \"think-piece-shipu\",\n  storageBucket: \"think-piece-shipu.appspot.com\",\n  messagingSenderId: \"496779419645\",\n  appId: \"1:496779419645:web:0928c7aa2f078fe5eb8394\",\n  measurementId: \"G-JWD5NTGS6W\",\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\nexport const signOut = () => auth.signOut();\nexport const storage = firebase.storage();\n\nexport const createUserProfileDocument = async (user, additionalData) => {\n  if (!user) return;\n  // get a reference to the place in the database where a user profile might or might not exist\n  const userRef = firestore.doc(`users/${user.uid}`);\n  const snapshot = await userRef.get();\n  if (!snapshot.exists) {\n    const { displayName, email, photoURL } = user;\n    const createdAt = new Date();\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        photoURL,\n        createdAt,\n        ...additionalData,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  return getUserDocument(user.uid);\n};\n\nexport const getUserDocument = (uid) => {\n  if (!uid) return null;\n  try {\n    return firestore.collection(\"users\").doc(uid);\n  } catch (err) {\n    console.error(\"error in fetching data\", err);\n  }\n};\n\nwindow.firebase = firebase;\n\nexport default firebase;\n","import React, { createContext, Component } from \"react\";\nimport { createUserProfileDocument } from \"../firebase\";\nimport { auth } from \"../firebase\";\n\nexport const UserContext = createContext();\n\nclass UserProvider extends Component {\n  state = { user: null };\n  unsubscribeFromAuth = null;\n  unsubscribeFromUserCollection = null;\n  componentDidMount = () => {\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      const userCollectionRef = await createUserProfileDocument(userAuth);\n      if (userCollectionRef) {\n        this.unsubscribeFromUserCollection = userCollectionRef.onSnapshot(\n          (snapshot) => {\n            this.setState({ user: { uid: snapshot.id, ...snapshot.data() } });\n          }\n        );\n      } else {\n        this.setState({ user: null });\n      }\n    });\n  };\n\n  componentWillUnmount = () => {\n    this.unsubscribeFromAuth();\n  };\n\n  render() {\n    const { children } = this.props;\n    const { user } = this.state;\n    return <UserContext.Provider value={user}>{children}</UserContext.Provider>;\n  }\n}\n\nexport default UserProvider;\n","import React, { useContext } from \"react\";\nimport { firestore } from \"../firebase\";\nimport moment from \"moment\";\nimport { UserContext } from \"../providers/UserProvider\";\nimport { Link } from \"react-router-dom\";\n\nconst belongsToCurrentUser = (currentUser, postAuthor) => {\n  if (!currentUser) return false;\n  return currentUser.uid === postAuthor.uid;\n};\n\nconst Post = ({ id, title, content, user, createdAt, stars, comments }) => {\n  const currentUser = useContext(UserContext);\n\n  const postRef = firestore.doc(`posts/${id}`);\n  const remove = () => {\n    postRef.delete();\n  };\n  const star = () => {\n    postRef.update({ stars: stars + 1 });\n  };\n  return (\n    <article className=\"Post\">\n      <div className=\"Post--content\">\n        <Link to={`posts/${id}`}>\n          <h3>{title}</h3>\n        </Link>\n        <div>{content}</div>\n      </div>\n      <div className=\"Post--meta\">\n        <div>\n          <p>\n            <span role=\"img\" aria-label=\"star\">\n              ⭐️\n            </span>\n            {stars}\n          </p>\n          <p>\n            <span role=\"img\" aria-label=\"comments\">\n              🙊\n            </span>\n            {comments}\n          </p>\n          <p>Posted by {user.displayName}</p>\n          <p>{moment(createdAt.toDate()).calendar()}</p>\n        </div>\n        <div>\n          <button className=\"star\" onClick={star}>\n            Star\n          </button>\n          {belongsToCurrentUser(currentUser, user) ? (\n            <button className=\"delete\" onClick={() => remove()}>\n              Delete\n            </button>\n          ) : null}\n        </div>\n      </div>\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  title: \"An Incredibly Hot Take\",\n  content:\n    \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus est aut dolorem, dolor voluptatem assumenda possimus officia blanditiis iusto porro eaque non ab autem nihil! Alias repudiandae itaque quo provident.\",\n  user: {\n    id: \"123\",\n    displayName: \"Bill Murray\",\n    email: \"billmurray@mailinator.com\",\n    photoURL: \"https://www.fillmurray.com/300/300\",\n  },\n  createdAt: new Date(),\n  stars: 0,\n  comments: 0,\n};\n\nexport default Post;\n","import React from \"react\";\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst getDisplayName = (WrappedComponent) => {\n  return WrappedComponent.displayName || WrappedComponent.name || \"MyComponent\";\n};\n\nconst withUser = (Component) => {\n  const WrappedComponent = (props) => {\n    return (\n      <UserContext.Consumer>\n        {(user) => <Component user={user} {...props} />}\n      </UserContext.Consumer>\n    );\n  };\n\n  WrappedComponent.displayName = `withUser(${getDisplayName(\n    WrappedComponent\n  )})`; // just for debugging purpose, it will give it a name\n\n  return WrappedComponent;\n};\n\nexport default withUser;\n","import React, { Component } from \"react\";\nimport { firestore } from \"../firebase\";\nimport withUser from \"./withUser\";\n\nclass AddPost extends Component {\n  state = { title: \"\", content: \"\" };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const { title, content } = this.state;\n    const { uid, displayName, email, photoURL } = this.props.user;\n    const onCreate = (post) => {\n      firestore.collection(\"posts\").add(post);\n    };\n\n    const post = {\n      title,\n      content,\n      user: {\n        uid,\n        displayName,\n        email,\n        photoURL,\n      },\n      favorites: 0,\n      comments: 0,\n      createdAt: new Date(), // firestore has this  property by default, you can remove this too\n    };\n\n    onCreate(post);\n\n    this.setState({ title: \"\", content: \"\" });\n  };\n\n  render() {\n    const { title, content } = this.state;\n    console.log(this.props);\n    return (\n      <form onSubmit={this.handleSubmit} className=\"AddPost\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Title\"\n          value={title}\n          onChange={this.handleChange}\n        />\n        <input\n          type=\"text\"\n          name=\"content\"\n          placeholder=\"Body\"\n          value={content}\n          onChange={this.handleChange}\n        />\n        <input className=\"create\" type=\"submit\" value=\"Create Post\" />\n      </form>\n    );\n  }\n}\n\nexport default withUser(AddPost);\n","export const collectIdsAndDocs = (doc) => {\n  return { id: doc.id, ...doc.data() };\n};\n","import React, { Component, createContext } from \"react\";\nimport { firestore } from \"../firebase\";\nimport { collectIdsAndDocs } from \"../utilities\";\n\nexport const PostsContext = createContext();\n\nclass PostsProvider extends Component {\n  state = { posts: [] };\n\n  unsubscribeFromFirestore = null;\n  unsubscribeFromAuth = null;\n  componentDidMount = () => {\n    this.unsubscribeFromFirestore = firestore\n      .collection(\"posts\")\n      .onSnapshot((snapshot) => {\n        const posts = snapshot.docs.map((doc) => collectIdsAndDocs(doc));\n        this.setState({ posts });\n      });\n  };\n\n  componentWillUnmount = () => {\n    this.unsubscribeFromFirestore();\n  };\n  render() {\n    const { posts } = this.state;\n    const { children } = this.props;\n    return (\n      <PostsContext.Provider value={posts}>{children}</PostsContext.Provider>\n    );\n  }\n}\n\nexport default PostsProvider;\n","import React, { useContext } from \"react\";\nimport Post from \"./Post\";\nimport AddPost from \"./AddPost\";\nimport { PostsContext } from \"../providers/PostsProvider\";\n\nconst Posts = () => {\n  const posts = useContext(PostsContext);\n  return (\n    <section className=\"Posts\">\n      <AddPost />\n      {posts.map((post) => (\n        <Post {...post} key={post.id} />\n      ))}\n    </section>\n  );\n};\n\nexport default Posts;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { signOut } from \"../firebase\";\nimport { Link } from \"react-router-dom\";\n\nconst CurrentUser = ({ displayName, photoURL, email, createdAt, children }) => {\n  return (\n    <section className=\"CurrentUser\">\n      <div id=\"update-notification\"></div>\n      <div className=\"CurrentUser--profile\">\n        {photoURL && <img src={photoURL} alt={displayName} />}\n        <div className=\"CurrentUser--information\">\n          <Link to=\"/profile\">\n            <h2>{displayName}</h2>\n          </Link>\n          <p className=\"email\">{email}</p>\n          <p className=\"created-at\">{moment(createdAt.toDate()).calendar()}</p>\n        </div>\n      </div>\n      <div>\n        <div>{children}</div>\n        <button onClick={signOut}>Sign Out</button>\n      </div>\n    </section>\n  );\n};\n\nCurrentUser.defaultProps = {\n  displayName: \"Bill Murray\",\n  email: \"billmurray@mailinator.com\",\n  photoURL: \"https://www.fillmurray.com/300/300\",\n  createdAt: new Date(),\n};\n\nexport default CurrentUser;\n","import React, { Component } from \"react\";\nimport { signInWithGoogle } from \"../firebase\";\n\nclass SignIn extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.setState({ email: \"\", password: \"\" });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <form className=\"SignIn\" onSubmit={this.handleSubmit}>\n        <h2>Sign In</h2>\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={this.handleChange}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={this.handleChange}\n        />\n        <input type=\"submit\" value=\"Sign In\" />\n        <button onClick={signInWithGoogle}>Sign In With Google</button>\n      </form>\n    );\n  }\n}\n\nexport default SignIn;\n","import React, { Component } from \"react\";\nimport { auth, createUserProfileDocument } from \"../firebase\";\n\nclass SignUp extends Component {\n  state = { displayName: \"\", email: \"\", password: \"\" };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const { email, password, displayName } = this.state;\n\n    try {\n      const { user } = await auth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n      createUserProfileDocument(user, { displayName });\n      // user.updateProfile({ displayName });\n    } catch (err) {\n      alert(err);\n    }\n\n    this.setState({ displayName: \"\", email: \"\", password: \"\" });\n  };\n\n  render() {\n    const { displayName, email, password } = this.state;\n\n    return (\n      <form className=\"SignUp\" onSubmit={this.handleSubmit}>\n        <h2>Sign Up</h2>\n        <input\n          type=\"text\"\n          name=\"displayName\"\n          placeholder=\"Display Name\"\n          value={displayName}\n          onChange={this.handleChange}\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={this.handleChange}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={this.handleChange}\n        />\n        <input type=\"submit\" value=\"Sign Up\" />\n      </form>\n    );\n  }\n}\n\nexport default SignUp;\n","import React from 'react'\n\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\n\nconst SignInAndSignUp = () => (\n  <div>\n    <SignIn />\n    <SignUp />\n  </div>\n);\n\nexport default SignInAndSignUp;\n","import React, { useContext } from \"react\";\nimport CurrentUser from \"./CurrentUser\";\nimport SignInAndSignUp from \"./SignInAndSignUp\";\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst Authentication = () => {\n  const user = useContext(UserContext);\n  return <div>{user ? <CurrentUser {...user} /> : <SignInAndSignUp />}</div>;\n};\n\nexport default Authentication;\n","import React, { useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst UpdateNotification = ({ children }) => {\n  const elRef = useRef(null);\n  if (!elRef.current) {\n    const div = document.createElement(\"div\");\n    div.style.background = \"green\";\n    elRef.current = div;\n  }\n\n  useEffect(() => {\n    const updateNotificationRoot = document.getElementById(\n      \"update-notification\"\n    );\n    updateNotificationRoot.appendChild(elRef.current);\n    return () => updateNotificationRoot.removeChild(elRef.current);\n  }, []);\n\n  return createPortal(<div>{children}</div>, elRef.current);\n};\n\nexport default UpdateNotification;\n","import React, { Component } from \"react\";\nimport { auth, firestore, storage } from \"../firebase\";\nimport UpdateNotification from \"./UpdatedNotification\";\n\nclass UserProfile extends Component {\n  state = { displayName: \"\", updated: false };\n  imageInput = null;\n\n  get uid() {\n    return auth.currentUser.uid;\n  }\n\n  get userRef() {\n    return firestore.doc(`users/${this.uid}`);\n  }\n\n  get file() {\n    return this.imageInput && this.imageInput.files[0];\n  }\n\n  handleChnage = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { displayName } = this.state;\n\n    if (displayName) {\n      const DisplayNameUpdate = this.userRef.update({ displayName });\n      DisplayNameUpdate.then(() => {\n        this.setState(\n          () => {\n            return { updated: true };\n          },\n          () => setTimeout(() => this.setState({ updated: false }), 2000)\n        );\n      });\n    }\n\n    if (this.file) {\n      console.log(\"######################\", this.file);\n      storage\n        .ref()\n        .child(\"user-profiles\")\n        .child(this.uid)\n        .child(this.file.name)\n        .put(this.file)\n        .then((response) => {\n          console.log(\"*********\");\n          return response.ref.getDownloadURL();\n        })\n        .then((photoURL) => this.userRef.update({ photoURL }));\n    }\n  };\n\n  render() {\n    const { displayName, updated } = this.state;\n    console.log(\"UPDATED\", updated);\n    return (\n      <section className=\"UserProfile\">\n        {updated ? <UpdateNotification>Updated!</UpdateNotification> : null}\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            value={displayName}\n            name=\"displayName\"\n            onChange={this.handleChnage}\n            placeholder=\"Display Name\"\n          />\n\n          <input\n            type=\"file\"\n            ref={(ref) => (this.imageInput = ref)}\n            accept=\"image/png, image/jpeg\"\n          />\n          <input type=\"submit\" className=\"update\" />\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default UserProfile;\n","import React from 'react';\n\nimport moment from 'moment';\n\nconst Comment = ({ content, user, createdAt }) => {\n  return (\n    <article className=\"Comment\">\n      <span className=\"Comment--author\">{user.displayName}</span>\n      <span className=\"Comment--content\">{content}</span>\n      <span className=\"Comment--timestamp\">{moment(createdAt).calendar()}</span>\n    </article>\n  );\n};\n\nComment.defaultProps = {\n  title: 'An Incredibly Hot Take',\n  content:\n    'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus est aut dolorem, dolor voluptatem assumenda possimus officia blanditiis iusto porro eaque non ab autem nihil! Alias repudiandae itaque quo provident.',\n  user: {\n    displayName: 'Bill Murray',\n    email: 'billmurray@mailinator.com',\n    photoURL: 'https://www.fillmurray.com/300/300',\n  },\n  createdAt: new Date(),\n};\n\nexport default Comment;\n","import React, { Component } from \"react\";\n\nclass AddComment extends Component {\n  state = { content: \"\" };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onCreate(this.state);\n    this.setState({ content: \"\" });\n  };\n\n  render() {\n    const { content } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit} className=\"AddComment\">\n        <input\n          type=\"text\"\n          name=\"content\"\n          placeholder=\"Comment\"\n          value={content}\n          onChange={this.handleChange}\n        />\n        <input className=\"create\" type=\"submit\" value=\"Create Comment\" />\n      </form>\n    );\n  }\n}\n\nexport default AddComment;\n","import React from 'react'\nimport Comment from './Comment';\nimport AddComment from './AddComment';\n\nconst Comments = ({ comments, onCreate }) => {\n  return (\n    <section className=\"Comments\">\n      <AddComment onCreate={onCreate} />\n      {comments.map(comment => <Comment {...comment} key={comment.id} />)}\n    </section>\n  )\n}\n\nexport default Comments;\n","import React from \"react\";\n\nimport Post from \"./Post\";\nimport Comments from \"./Comments\";\nimport { firestore } from \"../firebase\";\nimport { collectIdsAndDocs } from \"../utilities\";\n\nimport { withRouter } from \"react-router-dom\";\nimport withUser from \"./withUser\";\n\nclass PostPage extends React.Component {\n  state = { post: null, comments: [] };\n\n  get postId() {\n    return this.props.match.params.id;\n  }\n  get postRef() {\n    return firestore.doc(`/posts/${this.postId}`);\n  }\n  get comementsRef() {\n    return this.postRef.collection(\"comments\");\n  }\n\n  unsubscribeFromPosts = null;\n  unsubscribeFromComments = null;\n\n  componentDidMount = async () => {\n    this.unsubscribeFromPosts = this.postRef.onSnapshot((snapshot) => {\n      const post = collectIdsAndDocs(snapshot);\n      console.log(snapshot);\n      this.setState({ post });\n    });\n\n    this.unsubscribeFromComments = this.comementsRef.onSnapshot((snapshot) => {\n      const comments = snapshot.docs.map(collectIdsAndDocs);\n      this.setState({ comments });\n    });\n  };\n\n  componentWillUnmount = () => {\n    this.unsubscribeFromPosts();\n    this.unsubscribeFromComments();\n  };\n\n  createComment = (comment) => {\n    const { user } = this.props;\n    this.comementsRef.add({\n      ...comment,\n      user,\n    });\n  };\n\n  render() {\n    const { post, comments } = this.state;\n    console.log(this.props);\n    return (\n      <section>\n        {post && <Post {...post} />}\n        <Comments\n          comments={comments}\n          // postId={post.id}\n          onCreate={this.createComment}\n        />\n      </section>\n    );\n  }\n}\n\nexport default withUser(PostPage);\n","import React, { Component } from \"react\";\nimport Posts from \"./Posts\";\nimport Authentication from \"./Authentication\";\n\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport UserProfile from \"./UserProfile\";\nimport PostPage from \"./PostPage\";\n\nclass Application extends Component {\n  render() {\n    return (\n      <main className=\"Application\">\n        <Link to=\"/\">\n          <h1>Think Piece</h1>\n        </Link>\n        <Authentication />\n        <Switch>\n          <Route exact path=\"/\" component={Posts} />\n          <Route exact path=\"/profile\" component={UserProfile} />\n          <Route exact path=\"/posts/:id\" component={PostPage} />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default Application;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport \"@firebase/firestore\";\nimport \"./index.scss\";\n\nimport Application from \"./components/Application\";\nimport PostsProvider from \"./providers/PostsProvider\";\nimport UserProvider from \"./providers/UserProvider\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nrender(\n  <Router>\n    <PostsProvider>\n      <UserProvider>\n        <Application />\n      </UserProvider>\n    </PostsProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}